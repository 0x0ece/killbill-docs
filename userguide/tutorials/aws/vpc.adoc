From AWS console, choose VPC service:

1. Create the http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.html[VPC]

 NameTag : dockerdemo
 CIDR block : 172.50.0.0/16
 Tenancy : Default

Then select `Actions` to set `DNS Resolution` and `DNS Hostname`

[start=2]
2. Then create an http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway[Internet Gateway]

This is necessary to make sure the public IP is visible from the outside world.

 Specifying a Name: dockerdemo
 Right click on the created gateway, and select 'attach to VPC'; chose the VPC previously created

[start=3]
3. Add http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html#VPCSubnet[subnets to VPC]

Subnet sub menu `Create Subnet`:

 Name Tag: dockerdemo-e1b
 VPC: select previously created VPC
 Availability zone: us-east-1b
 CIDR block : 172.50.1.0/24
 Select 'Modify Auto-Assign Plublic IP'

Repeat twice to create the other subnets with {us-east-1c, 172.50.2.0/24}, {us-east-1d, 172.50.3.0/24})

[start=4]
4. Create Custom Route Tables:

Route Tables Menu `Create Route table`:

 Name tag: dockerdemo
 VPC: prevous VPC
 Edit the routes to add the gateway:
 Destination: 0.0.0.0/0
 Target: select the gateway igw-xxxx
 Tag 'Subnet associations': Edit and click on all subnet to 'associate'

[start=5]
5. Security Group for EC2 instances:

Security Group Menu `Create Security Group`:

 Name Tag: dockerdemo
 Group Name: dockerdemo
 VPC: select VPC
 Edit SG: Add following rules:
 {Type=SSH, Protocol=TCP, Port=22, Source=0.0.0.0/0 or your IP machine if you want to be more restrictive)
 {Type=HTTP, Protocol=TCP, Port=8080, Source=0.0.0.0/0)

[start=6]
6. Security Group for RDS instance:

Security Group Menu `Create Security Group`:
 Name Tag: dockerdemo-db
 Group Name: dockerdemo
 VPC: select VPC
 Edit SG: Add following rules:
 {Type=SSH, Protocol=TCP, Port=3306, Source=0.0.0.0/0 or your IP machine if you want to be more restrictive)
